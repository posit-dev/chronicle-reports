% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sample-data.R
\name{chronicle_sample_data}
\alias{chronicle_sample_data}
\title{Get path to sample Chronicle data}
\usage{
chronicle_sample_data(refresh = FALSE, base_path = NULL)
}
\arguments{
\item{refresh}{Logical. If TRUE, regenerate sample data even if cached.
Default is FALSE. When FALSE, the function reuses existing valid data for
both default temp directories and custom paths. When TRUE, data is always
regenerated to ensure freshness.}

\item{base_path}{Character path to directory where sample data should be
created. If NULL (default), creates in a temporary directory that is
cached and automatically cleaned up at session end. If specified, creates
data at the given path with no automatic cleanup. When \code{refresh=FALSE}
and the directory exists, the function validates the structure and reuses
existing data if valid, otherwise regenerates.}
}
\value{
Character path to the sample Chronicle data directory
}
\description{
This function creates a sample Chronicle data directory for
exploring package functionality without needing access to real Chronicle
data. The sample data is created once per R session and cached.
}
\details{
The sample data includes:
\itemize{
\item Connect user totals (30 days of data ending yesterday)
\item Connect user list (26 sample users)
\item Connect content list (150 sample content items)
\item Connect content totals (30 days by type and environment)
\item Connect content visits (30 days of user visit data)
\item Connect Shiny usage (30 days of Shiny session data)
\item Workbench user totals (30 days of data ending yesterday)
\item Workbench user list (21 sample users)
\item Raw Connect users data (30 days, 15 users per snapshot)
}

All sample data uses realistic weekday/weekend patterns and maintains
referential integrity across datasets. Content items are created gradually
over the 30-day period and persist once created.
}
\examples{
# Get path to sample data (default temp directory)
sample_path <- chronicle_sample_data()

# Reuse cached sample data (fast)
sample_path <- chronicle_sample_data()

# Force refresh of sample data
sample_path <- chronicle_sample_data(refresh = TRUE)

# Create sample data in a custom directory
custom_dir <- tempfile("chronicle-custom-")
sample_path <- chronicle_sample_data(base_path = custom_dir)

# Reuse existing custom directory data
sample_path <- chronicle_sample_data(base_path = custom_dir)

# List available metrics
chronicle_list_data(sample_path)

# Load sample data
data <- chronicle_data("connect/user_totals", sample_path)
dplyr::collect(data)

# Clean up (default temp dir cleaned automatically at session end)
# For custom directories, manual cleanup is needed
unlink(custom_dir, recursive = TRUE)
}
